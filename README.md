# Ghidra_Scripts

# Ghidra Export Scripts

Коллекция скриптов для Ghidra для автоматизации задач реверс-инжиниринга.

## Обзор

Эти скрипты предназначены для использования внутри Ghidra для экспорта различной информации об анализируемой программе.

## Скрипты

### 1. ExportDecompiledAndAssembly.py

**Описание:**

Этот скрипт проходит по всем функциям, определенным внутри текущей открытой и проанализированной программы в Ghidra. Он экспортирует:
1.  Декомпилированный C-подобный код каждой функции.
2.  Ассемблерный листинг каждой функции.

Результаты сохраняются в два отдельных текстовых файла, выбранных пользователем. Это может быть полезно для оффлайн-анализа, документирования или сравнения кода.

**Требования:**

* Ghidra (протестировано на версиях 10.x/11.x, но должно работать и на 9.x с поддержкой Python)
* Jython (идет в комплекте с Ghidra)

**Установка:**

1.  Найдите папку для пользовательских скриптов Ghidra. Обычно она находится в вашей домашней директории, например:
    * Linux/macOS: `$HOME/ghidra_scripts`
    * Windows: `C:\Users\<Ваше_Имя>\ghidra_scripts`
    * Вы можете проверить точные пути в Ghidra: `Window -> Script Manager`, затем нажмите на иконку папки ("Script Directories").
2.  Скопируйте файл `ExportDecompiledAndAssembly.py` (или как вы его назвали) в эту папку.
3.  Перезапустите Ghidra или нажмите кнопку "Refresh Script List" (две зеленые стрелки) в Script Manager, чтобы скрипт появился в списке.

**Использование:**

1.  Откройте программу (например, `lvl0.exe`) в Ghidra.
2.  **Дождитесь завершения** автоматического анализа (индикатор в правом нижнем углу). Это важно, так как скрипт полагается на результаты анализа.
3.  Откройте **Script Manager** (`Window -> Script Manager`).
4.  Найдите скрипт в списке. Вы можете использовать фильтр или найти его по категории "Export" (если аннотация `@category Export` есть в скрипте).
5.  **Запустите скрипт**: дважды кликните по нему или выберите и нажмите зеленую кнопку "Run Script".
6.  Появится **первое диалоговое окно** для выбора файла. Выберите место и имя файла для сохранения **декомпилированного C-кода** (например, `my_program_decompiled.c`) и нажмите "Сохранить C".
7.  Появится **второе диалоговое окно**. Выберите место и имя файла для сохранения **ассемблерного листинга** (например, `my_program_assembly.asm`) и нажмите "Сохранить Asm".
8.  Следите за **консолью Ghidra** (`Window -> Console`). Там будут отображаться сообщения о прогрессе ("Decompiling function...") и возможных ошибках.
9.  По завершении скрипт выведет итоговую статистику в консоль и покажет всплывающее окно. Проверьте созданные файлы.

**Формат Выходных Файлов:**

Каждый выходной файл будет содержать последовательность блоков для каждой функции. Блок начинается с комментария-заголовка, указывающего имя и адрес функции, за которым следует соответствующий код (декомпилированный C или ассемблерный листинг).
